<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set connection details to an Elasticsearch engine. — connect • elastic</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set connection details to an Elasticsearch engine. — connect"><meta name="description" content="Set connection details to an Elasticsearch engine."><meta property="og:description" content="Set connection details to an Elasticsearch engine."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">elastic</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1.92</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/elastic.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rfhb/elastic/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Set connection details to an Elasticsearch engine.</h1>
      <small class="dont-index">Source: <a href="https://github.com/rfhb/elastic/blob/HEAD/R/Elasticsearch.R" class="external-link"><code>R/Elasticsearch.R</code></a></small>
      <div class="d-none name"><code>connect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Set connection details to an Elasticsearch engine.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">connect</span><span class="op">(</span></span>
<span>  host <span class="op">=</span> <span class="st">"127.0.0.1"</span>,</span>
<span>  port <span class="op">=</span> <span class="fl">9200</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transport_schema <span class="op">=</span> <span class="st">"http"</span>,</span>
<span>  user <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pwd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  headers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cainfo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  errors <span class="op">=</span> <span class="st">"simple"</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ignore_version <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-host">host<a class="anchor" aria-label="anchor" href="#arg-host"></a></dt>
<dd><p>(character) The base host, defaults to <code>127.0.0.1</code></p></dd>


<dt id="arg-port">port<a class="anchor" aria-label="anchor" href="#arg-port"></a></dt>
<dd><p>(character) port to connect to, defaults to <code>9200</code>
(optional)</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>(character) context path that is appended to the end of the
url. Default: <code>NULL</code>, ignored</p></dd>


<dt id="arg-transport-schema">transport_schema<a class="anchor" aria-label="anchor" href="#arg-transport-schema"></a></dt>
<dd><p>(character) http or https. Default: <code>http</code></p></dd>


<dt id="arg-user">user<a class="anchor" aria-label="anchor" href="#arg-user"></a></dt>
<dd><p>(character) User name, if required for the connection. You
can specify,  but ignored for now.</p></dd>


<dt id="arg-pwd">pwd<a class="anchor" aria-label="anchor" href="#arg-pwd"></a></dt>
<dd><p>(character) Password, if required for the connection. You
can specify, but ignored for now.</p></dd>


<dt id="arg-headers">headers<a class="anchor" aria-label="anchor" href="#arg-headers"></a></dt>
<dd><p>named list of headers. These headers are used in all requests</p></dd>


<dt id="arg-cainfo">cainfo<a class="anchor" aria-label="anchor" href="#arg-cainfo"></a></dt>
<dd><p>(character) path to a crt bundle, passed to curl option
<code>cainfo</code></p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>(logical) Force re-load of connection details.
Default: <code>FALSE</code></p></dd>


<dt id="arg-errors">errors<a class="anchor" aria-label="anchor" href="#arg-errors"></a></dt>
<dd><p>(character) One of simple (Default) or complete. Simple gives
http code and  error message on an error, while complete gives both http
code and error message,  and stack trace, if available.</p></dd>


<dt id="arg-warn">warn<a class="anchor" aria-label="anchor" href="#arg-warn"></a></dt>
<dd><p>(logical) whether to throw warnings from the Elasticsearch
server when provided. Pulls warnings from response headers when given.
default: <code>TRUE</code>. To turn these off, you can set <code>warn=FALSE</code> or
wrap function calls in <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings()</a></code>. You can also see warnings in
headers by using curl verbose.</p></dd>


<dt id="arg-ignore-version">ignore_version<a class="anchor" aria-label="anchor" href="#arg-ignore-version"></a></dt>
<dd><p>(logical) ignore Elasticsearch version checks?
default: <code>FALSE</code>. Setting this to <code>TRUE</code> may cause some problems, it
has not been fully tested yet. You may want to set this to <code>TRUE</code> if
it's not possible to ping the root route of the Elasticsearch instance,
which has the Elasticsearch version. We use the version to do
alter what request is sent as different Elasticsearch versions allow
different parameters.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional curl options to be passed in ALL http requests</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default configuration is set up for localhost access on port
9200, with no username or password.</p>
<p>Running this connection method doesn't ping the ES server, but only prints
your connection details.</p>
<p>All connection details are stored within the returned object. We used to
store them in various env vars, but are now contained within the object
so you can have any number of connection objects and they shouldn't
conflict with one another.</p>
    </div>
    <div class="section level2">
    <h2 id="what-is-the-connection-object-">What is the connection object?<a class="anchor" aria-label="anchor" href="#what-is-the-connection-object-"></a></h2>


<p>Creating a connection object with <code>connect()</code> does not create
a DBI-like connection object. DBI-like objects have externalptr, etc.,
while <code>connect()</code> simply holds details about your Elasticsearch
instance (host, port, authentication, etc.) that is used by other
methods in this package to interact with your instances' ES API.
<code>connect()</code> is more or less a fancy list.</p>
<p>You can connect to different Elasticsearch intances within the same
R session by creating a separate connection object for each instance;
then pass the appropriate connection object to each <code>elastic</code> method.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># the default is set to 127.0.0.1 (i.e., localhost) and port 9200</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">connect</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="fu">make_url</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="fu">ping</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># pass connection object to function calls</span></span></span>
<span class="r-in"><span><span class="fu"><a href="Search.html">Search</a></span><span class="op">(</span><span class="va">x</span>, q <span class="op">=</span> <span class="st">"*:*"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set username/password (hidden in print method)</span></span></span>
<span class="r-in"><span><span class="fu">connect</span><span class="op">(</span>user <span class="op">=</span> <span class="st">"me"</span>, pwd <span class="op">=</span> <span class="st">"stuff"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set a different host</span></span></span>
<span class="r-in"><span><span class="co"># connect(host = '162.243.152.53')</span></span></span>
<span class="r-in"><span><span class="co"># =&gt; http://162.243.152.53:9200</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set a different port</span></span></span>
<span class="r-in"><span><span class="co"># connect(port = 8000)</span></span></span>
<span class="r-in"><span><span class="co"># =&gt; http://localhost:8000</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set a different context path</span></span></span>
<span class="r-in"><span><span class="co"># connect(path = 'foo_bar')</span></span></span>
<span class="r-in"><span><span class="co"># =&gt; http://localhost:9200/foo_bar</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set to https</span></span></span>
<span class="r-in"><span><span class="co"># connect(transport_schema = 'https')</span></span></span>
<span class="r-in"><span><span class="co"># =&gt; https://localhost:9200</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set headers</span></span></span>
<span class="r-in"><span><span class="fu">connect</span><span class="op">(</span>headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="st">'foobar'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set cainfo path (hidden in print method)</span></span></span>
<span class="r-in"><span><span class="fu">connect</span><span class="op">(</span>cainfo <span class="op">=</span> <span class="st">'/some/path/bundle.crt'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ralf Herold, Scott Chamberlain.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

